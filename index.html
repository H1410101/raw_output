<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Raw Output | Core Engine</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap"
            rel="stylesheet"
        />
        <style>
            :root {
                --bg-color: #0a0a0c;
                --accent-color: #00f2ff;
                --text-color: #e0e0e6;
                --glass-bg: rgba(255, 255, 255, 0.03);
                --glass-border: rgba(255, 255, 255, 0.1);
                --danger-color: #ff4d4d;
                --container-max-width: 1200px;
            }

            body {
                margin: 0;
                padding: 0;
                background-color: var(--bg-color);
                color: var(--text-color);
                font-family: "Outfit", sans-serif;
                display: flex;
                flex-direction: column;
                height: 100vh;
                overflow: hidden;
                box-sizing: border-box;
            }

            .container {
                max-width: var(--container-max-width);
                margin: 0 auto;
                width: 100%;
                padding: 0 1.5rem;
                box-sizing: border-box;
            }

            /* Edge-to-edge Structural Header */
            .app-header {
                width: 100%;
                background: rgba(10, 10, 12, 0.7);
                backdrop-filter: blur(20px);
                border-bottom: 1px solid var(--glass-border);
                flex-shrink: 0;
                z-index: 100;
            }

            .header-content {
                display: grid;
                grid-template-columns: 1fr auto 1fr;
                align-items: center;
                height: 54px;
            }

            h1 {
                font-weight: 600;
                letter-spacing: -0.02em;
                margin: 0;
                font-size: 1.5rem;
                background: linear-gradient(135deg, #fff 0%, #a0a0a0 100%);
                background-clip: text;
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
            }

            /* Horizontal Navigation */
            .nav-menu {
                display: flex;
                gap: 0.5rem;
            }

            .nav-item {
                background: transparent;
                border: none;
                color: #80808a;
                padding: 0.6rem 1.2rem;
                font-family: "Outfit", sans-serif;
                font-size: 0.9rem;
                font-weight: 500;
                border-radius: 10px;
                cursor: pointer;
                transition: all 0.2s ease;
            }

            .nav-item:hover {
                background: rgba(255, 255, 255, 0.05);
                color: #fff;
            }

            .nav-item.active {
                background: rgba(0, 242, 255, 0.05);
                color: var(--accent-color);
            }

            /* Status Dot & Dropdown */
            .status-dot-container {
                position: relative;
                display: inline-block;
                justify-self: end;
            }

            #status-mount-point {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                cursor: pointer;
                padding: 10px;
            }

            .status-indicator {
                width: 10px;
                height: 10px;
                background-color: var(--accent-color);
                border-radius: 50%;
                box-shadow: 0 0 10px var(--accent-color);
                animation: pulse 2s infinite;
            }

            #status-mount-point:empty::before {
                content: "";
                display: block;
                width: 10px;
                height: 10px;
                background-color: var(--danger-color);
                border-radius: 50%;
                box-shadow: 0 0 10px var(--danger-color);
            }

            @keyframes pulse {
                0% {
                    transform: scale(1);
                    opacity: 1;
                }
                50% {
                    transform: scale(1.5);
                    opacity: 0.5;
                }
                100% {
                    transform: scale(1);
                    opacity: 1;
                }
            }

            .status-dropdown {
                visibility: hidden;
                opacity: 0;
                position: absolute;
                top: calc(100% + 5px);
                right: 0;
                background: #121216;
                border: 1px solid var(--glass-border);
                backdrop-filter: blur(20px);
                border-radius: 16px;
                padding: 1.25rem;
                min-width: 240px;
                z-index: 1000;
                transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
                transform: translateY(5px);
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.6);
            }

            .status-dot-container:hover .status-dropdown {
                visibility: visible;
                opacity: 1;
                transform: translateY(0);
            }

            .dropdown-section {
                margin-bottom: 1rem;
            }

            .dropdown-label {
                font-size: 0.7rem;
                text-transform: uppercase;
                letter-spacing: 0.08em;
                color: #80808a;
                font-weight: 600;
                margin-bottom: 0.4rem;
                display: block;
            }

            .folder-status-text {
                font-size: 0.85rem;
                color: #e0e0e6;
                word-break: break-all;
                line-height: 1.4;
            }

            .connected-text {
                color: var(--accent-color);
                font-weight: 500;
            }

            .status-actions {
                display: flex;
                gap: 0.5rem;
                margin-top: 0.75rem;
            }

            .action-btn {
                background: var(--glass-bg);
                border: 1px solid var(--glass-border);
                color: #fff;
                padding: 0.5rem;
                border-radius: 8px;
                cursor: pointer;
                flex: 1;
                display: flex;
                justify-content: center;
                align-items: center;
                transition: all 0.2s ease;
                font-size: 0.9rem;
            }

            .action-btn:hover {
                background: rgba(255, 255, 255, 0.08);
                border-color: rgba(255, 255, 255, 0.2);
            }

            /* Main Content Area */
            #app {
                flex: 1;
                display: flex;
                flex-direction: column;
                overflow: hidden;
                padding: 0 0 2rem 0;
            }

            .dashboard-panel {
                padding: 1rem 2rem;
                flex: 1;
                display: flex;
                flex-direction: column;
                min-height: 0;
                overflow: hidden;
                animation: fadeIn 0.8s ease-out;
            }

            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translateY(10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .hidden-view {
                display: none !important;
            }

            /* Scrollable Lists */
            .recent-runs-list,
            .benchmark-table {
                list-style: none;
                padding: 0;
                margin: 0;
                overflow-y: auto;
                padding-right: 0.5rem;
                flex: 1;
            }

            .recent-runs-list::-webkit-scrollbar,
            .benchmark-table::-webkit-scrollbar {
                width: 4px;
            }

            .recent-runs-list::-webkit-scrollbar-thumb,
            .benchmark-table::-webkit-scrollbar-thumb {
                background: var(--glass-border);
                border-radius: 10px;
            }

            /* Item Styles */
            .run-item {
                background: rgba(255, 255, 255, 0.02);
                border: 1px solid var(--glass-border);
                border-radius: 16px;
                padding: 1rem 1.25rem;
                margin-bottom: 0.75rem;
                display: flex;
                justify-content: space-between;
                align-items: center;
                transition: all 0.2s ease;
            }

            .run-item:hover {
                background: rgba(255, 255, 255, 0.05);
                border-color: rgba(255, 255, 255, 0.2);
            }

            /* Benchmark Specific (Dividers instead of cards) */
            .benchmark-row {
                background: transparent;
                border-bottom: none;
                padding: 0.15rem 0.75rem;
                display: flex;
                justify-content: space-between;
                align-items: center;
                transition: all 0.2s ease;
                cursor: pointer;
            }

            .benchmark-row:hover {
                background: rgba(255, 255, 255, 0.02);
            }

            .benchmark-row.selected {
                background: rgba(255, 255, 255, 0.1);
            }

            .benchmark-category-group {
                display: flex;
                border: 2px solid var(--glass-border);
                border-bottom: none;
                background: rgba(255, 255, 255, 0.01);
            }

            .benchmark-category-group:first-child {
                border-radius: 16px 16px 0 0;
            }

            .benchmark-category-group:last-child {
                border-bottom: 2px solid var(--glass-border);
                border-radius: 0 0 16px 16px;
            }

            .subcategory-container {
                flex: 1;
                display: flex;
                flex-direction: column;
            }

            .benchmark-subcategory-group {
                display: flex;
                border-bottom: 1px solid var(--glass-border);
            }

            .benchmark-subcategory-group:last-child {
                border-bottom: none;
            }

            .scenario-list {
                flex: 1;
                display: flex;
                flex-direction: column;
                padding: 0.5rem 0;
            }

            .vertical-label-container {
                display: block;
                padding: 0.4rem 0.1rem;
                background: rgba(255, 255, 255, 0.03);
                border-right: 1px solid var(--glass-border);
                min-width: 20px;
                position: relative;
            }

            .category-label {
                background: rgba(0, 242, 255, 0.03);
                min-width: 24px;
            }

            .vertical-text {
                position: absolute;
                display: block;
                writing-mode: vertical-rl;
                transform: rotate(180deg) translateY(50%);
                text-transform: none;
                letter-spacing: 0.1em;
                font-size: 0.7rem;
                font-weight: 600;
                color: #80808a;
                white-space: nowrap;
                width: 100%;
                text-align: center;
                pointer-events: none;
                padding: 2rem 0;
            }

            .category-label .vertical-text {
                color: var(--accent-color);
                font-size: 0.8rem;
                text-transform: uppercase;
            }

            .subcategory-label .vertical-text {
                top: 50%;
                text-transform: lowercase;
            }

            .subcategory-label .vertical-text::first-letter {
                text-transform: uppercase;
            }

            .run-info {
                font-size: 0.95rem;
                font-weight: 500;
                color: #fff;
            }

            .scenario-name {
                font-size: 0.85rem;
                font-weight: 500;
                color: #80808a;
                transition: color 0.2s ease;
            }

            .benchmark-row.selected .scenario-name {
                color: #fff;
            }

            .rank-badge-container {
                display: flex;
                align-items: center;
                gap: 0.4rem;
                font-size: 0.75rem;
                font-weight: 700;
                text-transform: uppercase;
            }

            .rank-name {
                color: var(--accent-color);
            }

            .rank-progress {
                color: #80808a;
                font-size: 0.65rem;
            }

            .unranked-text {
                color: #404046;
                font-size: 0.65rem;
                font-weight: 500;
            }

            .run-date,
            .scenario-stats-placeholder {
                font-size: 0.75rem;
                color: #80808a;
            }

            .run-score {
                font-size: 1.1rem;
                font-weight: 600;
                color: var(--accent-color);
            }

            .run-tag {
                font-size: 0.6rem;
                font-weight: 600;
                text-transform: uppercase;
                padding: 0.15rem 0.4rem;
                border-radius: 4px;
                margin-left: 0.6rem;
                vertical-align: middle;
            }

            .tag-easier {
                background: rgba(16, 185, 129, 0.1);
                color: #10b981;
                border: 1px solid rgba(16, 185, 129, 0.3);
            }
            .tag-medium {
                background: rgba(0, 242, 255, 0.1);
                color: var(--accent-color);
                border: 1px solid rgba(0, 242, 255, 0.3);
            }
            .tag-hard {
                background: rgba(245, 158, 11, 0.1);
                color: #f59e0b;
                border: 1px solid rgba(245, 158, 11, 0.3);
            }

            /* Benchmark Layout */
            .benchmark-view-container {
                display: flex;
                flex-direction: column;
                height: 100%;
                min-height: 0;
            }

            .difficulty-tabs {
                display: flex;
                gap: 0.4rem;
                background: rgba(0, 0, 0, 0.2);
                padding: 0.3rem;
                border-radius: 10px;
                width: fit-content;
                margin: 0 auto 1rem auto;
            }

            .tab-button {
                background: transparent;
                border: none;
                color: #80808a;
                padding: 0.4rem 1rem;
                border-radius: 7px;
                cursor: pointer;
                font-family: "Outfit", sans-serif;
                font-weight: 500;
                font-size: 0.85rem;
                transition: all 0.2s ease;
            }

            .tab-button.active {
                background: var(--glass-bg);
                color: var(--accent-color);
            }
        </style>
    </head>

    <body>
        <header class="app-header">
            <div class="container header-content">
                <h1>Raw Output</h1>
                <nav class="nav-menu">
                    <button id="nav-recent" class="nav-item active">
                        Recent Runs
                    </button>
                    <button id="nav-benchmarks" class="nav-item">
                        Benchmarks
                    </button>
                </nav>

                <div class="status-dot-container">
                    <div id="status-mount-point">
                        <!-- JS mounts status indicator here -->
                    </div>

                    <div class="status-dropdown">
                        <div class="dropdown-section">
                            <span class="dropdown-label">System Status</span>
                            <div
                                class="folder-status-text"
                                id="status-text-overlay"
                            >
                                Standby
                            </div>
                        </div>

                        <div class="dropdown-section">
                            <span class="dropdown-label">Data Source</span>
                            <div id="folder-status" class="folder-status-text">
                                No folder linked
                            </div>
                        </div>

                        <div class="status-actions">
                            <button
                                id="link-folder-button"
                                class="action-btn"
                                title="Link Folder"
                            >
                                üìÇ
                            </button>
                            <button
                                id="import-csv-button"
                                class="action-btn"
                                title="Import CSVs"
                            >
                                üîÑ
                            </button>
                            <button
                                id="remove-folder-button"
                                class="action-btn"
                                title="Remove Connection"
                            >
                                ‚ùå
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <main id="app">
            <div class="container dashboard-panel">
                <!-- Recent Runs View -->
                <section
                    id="view-recent"
                    style="
                        display: flex;
                        flex-direction: column;
                        flex: 1;
                        min-height: 0;
                    "
                >
                    <ul id="recent-runs-list" class="recent-runs-list">
                        <!-- Data will be mounted here -->
                    </ul>
                </section>

                <!-- Benchmarks View -->
                <section
                    id="view-benchmarks"
                    class="hidden-view"
                    style="
                        display: flex;
                        flex-direction: column;
                        flex: 1;
                        min-height: 0;
                    "
                >
                    <!-- Benchmarks will be mounted here -->
                </section>
            </div>
        </main>
        <script type="module" src="/src/main.ts"></script>
    </body>
</html>
